<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<title>Eurobox</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<style>
:root{
  --bg:#0b1220;
  --card:#151c2f;
  --border:#2a3555;
  --text:#ffffff;
  --muted:#9aa3b2;
  --ok:#35d07f;
  --red:#ff4d4d;
  --grey:#C0C0C0;
  --black:#000000;
}

body{
  margin:0;
  background:linear-gradient(180deg,#050810,#0b1220);
  font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto;
  color:var(--text);
}

.container{
  max-width:480px;
  margin:20px auto;
  padding:20px;
}

.card{
  background:var(--card);
  border-radius:20px;
  padding:20px;
  box-shadow:0 0 40px rgba(0,0,0,.6);
  transition:.2s;
}

h1{
  text-align:center;
  margin:0;
  font-size:36px;
  letter-spacing:2px;
}

.status{
  text-align:center;
  color:var(--ok);
  margin-top:6px;
}

.row{
  display:flex;
  gap:10px;
  margin-top:16px;
}

input,textarea{
  background:#0f172a;
  border:1px solid var(--border);
  border-radius:14px;
  color:#fff;
  padding:12px;
  font-size:16px;
  width:100%;
}

textarea{
  height:180px;
  resize:none;
}

.icon{
  width:56px;
  height:56px;
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:26px;
  border-radius:16px;
  border:2px solid var(--border);
  cursor:pointer;
  transition:.15s;
}

.icon.active{
  border-color:var(--ok);
  box-shadow:0 0 12px rgba(53,208,127,.6);
}

.icon.heavy.active{
  border-color:var(--red);
  box-shadow:0 0 14px rgba(255,77,77,.7);
}

.icon.color.active{
  outline:3px solid var(--ok);
}

.weightBox{
  width:90px;
  text-align:center;
  font-weight:700;
}

.buttons{
  display:flex;
  gap:10px;
  margin-top:20px;
}

button{
  flex:1;
  padding:12px;
  border-radius:14px;
  border:none;
  background:#1f2a4d;
  color:#fff;
  font-size:14px;
}
</style>
</head>

<body>
<div class="container">
  <div class="card" id="card">

    <h1 id="boxId">E000</h1>
    <div class="status">Gespeichert ‚úì</div>

    <div class="row">
      <input id="ort" maxlength="6" placeholder="ORT">
      <input id="bez" placeholder="Bezeichnung">
    </div>

    <div class="row">
      <div class="icon" id="fragile" title="Zerbrechlich">üç∑</div>
      <div class="icon heavy" id="heavy" title="Schwer">üèãÔ∏è</div>
      <input id="kg" class="weightBox" type="number" min="0" max="99" placeholder="00 kg">
    </div>

    <div class="row">
      <div class="icon color" id="black" title="Schwarze Box" style="background:#000"></div>
      <div class="icon color active" id="grey" title="Graue Box" style="background:#C0C0C0"></div>
    </div>

    <textarea id="content" placeholder="‚Ä¢ Inhalt hier eintragen‚Ä¶"></textarea>

    <div class="buttons">
      <button>Backup nach iCloud</button>
      <button>Backup importieren</button>
      <button>JSON laden</button>
    </div>

  </div>
</div>

<script>
const $ = id => document.getElementById(id);

const box = new URLSearchParams(location.search).get("box") || "E000";
$("boxId").textContent = box;

let state = {
  fragile:false,
  heavy:false,
  color:"grey",
  kg:0
};

// üç∑ Zerbrechlich
$("fragile").onclick = () => {
  state.fragile = !state.fragile;
  $("fragile").classList.toggle("active", state.fragile);
};

// ‚ö´Ô∏è / ‚ö™Ô∏è Farbe
$("black").onclick = () => setColor("black");
$("grey").onclick  = () => setColor("grey");

function setColor(c){
  state.color = c;
  $("black").classList.toggle("active", c==="black");
  $("grey").classList.toggle("active", c==="grey");
  $("card").style.background = c==="black" ? "#000000" : "#C0C0C0";
}

// üèãÔ∏è Heavy automatisch ab 16 kg
$("kg").addEventListener("input",()=>{
  state.kg = parseInt($("kg").value||0);
  state.heavy = state.kg >= 16;
  $("heavy").classList.toggle("active", state.heavy);
});

// üìù Aufz√§hlung erzwingen
$("content").addEventListener("keydown",e=>{
  if(e.key==="Enter"){
    e.preventDefault();
    $("content").value += "\n‚Ä¢ ";
  }
  if(e.key==="Backspace"){
    const v = $("content").value;
    if(v.endsWith("\n‚Ä¢ ")){
      $("content").value = v.slice(0,-3);
    }
  }
});

// Init
$("content").value = "‚Ä¢ ";
$("kg").dispatchEvent(new Event("input"));
</script>
</body>
</html>
